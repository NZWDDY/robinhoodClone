(this["webpackJsonpredux-based-pokedex"]=this["webpackJsonpredux-based-pokedex"]||[]).push([[0],{166:function(e,t,a){e.exports=a(352)},171:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(171),a(3)),u=a(9),s=a(24),l=a(42),m=a(4),d=a.n(m),f=a(8),p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FMP_API_KEY:"f04ddc95561236e9dccd1ffa355ad55b"}).REACT_APP_IMAGE_URL||"http://localhost:8000",b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FMP_API_KEY:"f04ddc95561236e9dccd1ffa355ad55b"}).REACT_APP_BASEURL||"".concat(p,"/api"),h=function(e){return{type:"SET_CURRENT_USER",id:e}},E=function(e){return{type:"SET_TOKEN",token:e}},v=function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r,c,o,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(b,"/session"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(!(r=a.sent).ok){a.next=12;break}return a.next=6,r.json();case 6:c=a.sent,o=c.token,i=c.user.id,window.localStorage.setItem("TOKEN_KEY",o),n(E(o)),n(h(i));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b,"/users"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(n=t.sent).ok){t.next=10;break}return t.next=6,n.json();case 6:r=t.sent,c=r.token,window.localStorage.setItem("TOKEN_KEY",c),a(E(c));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=a(113),y=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===a.needLogin?r.a.createElement(l.a,{to:"/login"}):r.a.createElement(t,e)}}))},g=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0!==a.needLogin?r.a.createElement(l.a,{to:"/"}):r.a.createElement(t,e)}}))},k=a(83),S=a.n(k),w=function(e){var t=Object(n.useState)("demo@example.com"),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)("password"),m=Object(i.a)(l,2),p=m[0],b=m[1],h=Object(u.b)(),E=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h(v(c,p));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"centered middled"},r.a.createElement("img",{src:S.a,alt:"img"}),r.a.createElement("form",{onSubmit:E},r.a.createElement("input",{type:"text",placeholder:"Email",value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:p,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement(s.b,{to:"/signup"},r.a.createElement("button",{type:"button"},"Sign Up"))))},N=function(){var e=Object(u.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"logout-button-holder"},r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{type:"button"},"Profile")),r.a.createElement("button",{onClick:function(){e(function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/session"),{method:"delete",headers:{Authorization:"Bearer ".concat(r)}});case 3:e.sent.ok&&(window.localStorage.removeItem("TOKEN_KEY"),t({type:"REMOVE_TOKEN"}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},"Logout")))},x=a(148),P=a.n(x),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.polygon.io/",t=P.a.create({baseURL:e,timeout:5e3}),a={apiKey:"VkrkWBmpkEzcfu554MV9td_zILRqS2w8"},n=function(e){return t.get("https://api.polygon.io/v1/meta/symbols/".concat(e,"/news?perpage=10&page=1&apiKey=").concat(a.apiKey))};return{getQuote:n}},T=a(37),_=function(e){return{type:"LOAD",list:e}},A=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)});case 3:t.sent.ok&&(a(F()),a({type:"HIDE_FORM"}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},F=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/positions"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(_(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions/").concat(e),{method:"delete",headers:{Authorization:"Bearer ".concat(c)}});case 3:t.sent.ok&&(a(F()),window.location.replace("/"));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},L=function(e){return{type:"LOAD_HISTORY",historyList:e}},I=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/history"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)});case 3:t.sent.ok&&a(R());case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},R=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/history"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(L(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},W=a(353),B=a(53),K=a.n(B),H=function(e){return{type:"SET_CURRENT",current:e}},U=function(e){var t=e.positions,a=e.getOnePosition,c=e.createPosition,o=e.createInstance,s=Object(n.useState)([]),m=Object(i.a)(s,2),p=m[0],b=m[1],h=Object(n.useState)(!0),E=Object(i.a)(h,2),v=E[0],O=E[1],j=Object(n.useState)([]),y=Object(i.a)(j,2),g=y[0],k=y[1],S=Object(n.useState)([]),w=Object(i.a)(S,2),N=w[0],x=w[1],P=Object(n.useState)(""),_=Object(i.a)(P,2),A=_[0],F=_[1],L=Object(n.useState)(""),I=Object(i.a)(L,2),R=I[0],B=I[1],H=Object(n.useState)(""),U=Object(i.a)(H,2),z=U[0],M=U[1],V=Object(n.useState)(""),$=Object(i.a)(V,2),Q=$[0],Y=$[1],J=Object(n.useState)(""),q=Object(i.a)(J,2),G=q[0],X=q[1],Z=Object(n.useState)(""),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),ce=re[0],oe=re[1],ie=Object(n.useState)(""),ue=Object(i.a)(ie,2),se=ue[0],le=ue[1],me=Object(n.useState)(""),de=Object(i.a)(me,2),fe=de[0],pe=de[1],be=Object(u.b)(),he=Object(l.g)().id;if(Object(n.useEffect)((function(){a(he)}),[he]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/profile/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(n).then((function(e){return e.json()})).then((function(e){B(e[0].companyName),ae(e[0].description),le(e[0].exchangeShortName),oe(e[0].image)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote(t.stockSymbol).then((function(e){e.ok&&b(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),r=[],c=[],fetch(n).then((function(e){return e.json()})).then((function(e){for(var a in F(t.stockSymbol),e)r.push(e[a].date),c.push(e[a].open);O(!1),k(r),x(c),M(parseFloat(N[0]).toFixed(2)),pe(parseFloat(N[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),!t)return null;if(v)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)));var Ee,ve={labels:g,datasets:[{label:t.stockSymbol,data:N,fill:!1,backgroundColor:N[0]>N[399]?"green":"red",borderColor:N[0]>N[399]?"green":"red",borderWidth:4}]},Oe=function(){var e=Object(f.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.buyPrice,r=t.shares,o({stockSymbol:A,stockName:R,soldPrice:fe,boughtPrice:n,shares:r}),be(D(t.id));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=N[0]>N[399]?"background":"background2";return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-".concat(je)},r.a.createElement("div",{className:"header-element"},r.a.createElement("div",{className:"company-logo"},r.a.createElement("img",{src:ce,alt:"Company Logo"})),r.a.createElement("div",{className:"company-titles"},r.a.createElement("h1",{className:"bigger"},t.stockSymbol),r.a.createElement("h1",{className:"bigger"},R),r.a.createElement("h1",{className:"bigger"},"$",r.a.createElement(K.a,{start:0,decimals:2,end:z,duration:1,separator:","}))))),r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement(T.Line,{data:ve,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Your Position"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Shares:")," ",t.shares),r.a.createElement("li",null,r.a.createElement("b",null,"Average Cost:")," $",t.buyPrice),r.a.createElement("li",null,r.a.createElement("b",null,"Date Purchased:")," ",t.createdAt),r.a.createElement("li",null,r.a.createElement("b",null,"Market Value:")," $",(t.shares*z).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Total Return:")," $",(t.shares*z-t.shares*t.buyPrice).toFixed(2))),r.a.createElement("h2",null,"Buy More"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Y(parseFloat(N[0]).toFixed(2)),c({stockSymbol:A,stockName:R,currentPrice:z,buyPrice:Q,shares:G})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:G,onChange:(Ee=X,function(e){Ee(e.target.value)})}),isNaN(z)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!")),isNaN(z)?"Failed to fetch current price":r.a.createElement("button",{onClick:Oe},"Exit Position"))),r.a.createElement("div",{className:"newsFeed"},r.a.createElement("h2",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",A),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",R),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(N[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",se),r.a.createElement("li",null,r.a.createElement("b",null,"Company Description")," ",te)),r.a.createElement("h2",null,"News"),p.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image,alt:"news"}))}))))},z=function(){var e=Object(u.c)((function(e){return e.positions[e.currentPosition]})),t=Object(u.c)((function(e){return Object.values(e.history)})),a=Object(u.b)();return r.a.createElement(U,{positions:e,history:t,getOnePosition:function(e){return a(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions/").concat(e),{headers:{Authorization:"Bearer ".concat(c)}});case 3:if(!(o=t.sent).ok){t.next=9;break}return t.next=7,o.json();case 7:i=t.sent,a(H(i));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},exitPosition:function(e){return a(D(e))},createPosition:function(e){return a(A(e))},createInstance:function(e){return a(I(e))}})},M=function(e){return{type:"LOAD_WATCHED",watchedList:e}},V=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/watchlist"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(M(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/watchlist/").concat(e),{method:"delete",headers:{Authorization:"Bearer ".concat(c)}});case 3:t.sent.ok&&(a(V()),window.location.replace("/"));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Q=a(401),Y=a(404),J=a(400),q=a(402),G=a(403),X=a(398);var Z=function(e){return n.createElement(X.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},ee=a(149),te=function(e){var t=e.positions,a=e.history,c=e.getPositions,o=e.getHistoricalData,u=Object(n.useState)([]),s=Object(i.a)(u,2),l=s[0],m=s[1];Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){if(a){!function(){var e=a.map((function(e){return{id:e.id,date:e.createdAt,transaction:e.deposit>0?"DEPOSIT: $"+e.deposit:0!==e.shares?"SELL":"WITHDRAWAL: $"+e.deposit,symbol:e.stockSymbol?e.stockSymbol:"",companyName:e.stockName,shares:e.shares,purchasePrice:e.boughtPrice,currentPrice:e.soldPrice,percentChange:(e.soldPrice*e.shares-e.boughtPrice*e.shares).toFixed(2)}}));m(e)}()}}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null,"Portfolio Assets"),r.a.createElement(Q.a,{size:"small"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(J.a,null,"Purchase Date"),r.a.createElement(J.a,null,"Symbol"),r.a.createElement(J.a,null,"Company Name"),r.a.createElement(J.a,null,"Shares"),r.a.createElement(J.a,null,"Purchase Price"),r.a.createElement(J.a,null,"Current Price $"),r.a.createElement(J.a,{align:"right"},"Total Value"))),r.a.createElement(Y.a,null,t.map((function(e){return r.a.createElement(G.a,{key:e.id},r.a.createElement(J.a,null,e.createdAt),r.a.createElement(J.a,null,e.stockSymbol.toUpperCase()),r.a.createElement(J.a,null,e.stockName),r.a.createElement(J.a,null,e.shares),r.a.createElement(J.a,null,"$",e.buyPrice),r.a.createElement(J.a,null,"$".concat(e.currentPrice)),r.a.createElement(J.a,{align:"right"},"$",(e.shares*e.currentPrice).toFixed(2)))})))),r.a.createElement(Z,null,"Portfolio History"),r.a.createElement("div",{style:{height:1e3,width:"100%"}},r.a.createElement(ee.a,{rows:l,columns:[{field:"date",headerName:"Date",width:130},{field:"transaction",headerName:"Transaction",width:130},{field:"symbol",headerName:"Symbol",width:90},{field:"companyName",headerName:"Company Name",width:130},{field:"shares",headerName:"Shares",type:"number",width:90},{field:"purchasePrice",headerName:"Purchase Price",type:"number",width:90},{field:"currentPrice",headerName:"Sell Price",type:"number",width:90},{field:"percentChange",headerName:"Profit",type:"number",width:130}],pageSize:20,checkboxSelection:!0})))},ae=function(){var e=Object(u.c)((function(e){return Object.values(e.positions)})),t=Object(u.c)((function(e){return Object.values(e.history)})),a=Object(u.b)();return r.a.createElement(te,{positions:e,history:t,getPositions:function(){return a(F())},getHistoricalData:function(){return a(R())}})},ne=a(156),re=Object(ne.a)({depositContext:{flex:1}});function ce(e){var t=e.getHistoricalData,a=e.history,c=re(),o=(new Date).getFullYear(),i=(new Date).getMonth()+1,s=(new Date).getDate(),l=Object(u.b)();Object(n.useEffect)((function(){t()}),[]);var m=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1e4,a={deposit:1e4},e.next=4,l(I(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1e4,a={deposit:-1e4},e.next=4,l(I(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=a.reduce((function(e,t){return e+parseFloat(t.deposit)}),0).toFixed(2);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"userHeader"},r.a.createElement(Z,null,"Portfolio Value"),r.a.createElement(X.a,{component:"p",variant:"h4"},"$",r.a.createElement(K.a,{start:0,decimals:2,end:a.reduce((function(e,t){return e+t.soldPrice*t.shares-t.boughtPrice*t.shares}),parseFloat(b)).toFixed(2),duration:1,separator:","})),r.a.createElement(X.a,{color:"textSecondary",className:c.depositContext},"on ",i+"/"+s+"/"+o),r.a.createElement("div",null,r.a.createElement("button",{onClick:m},"Deposit $10000"),r.a.createElement("button",{onClick:p},"Withdrawal $10000"))))}var oe=function(){var e=Object(u.c)((function(e){return Object.values(e.history)})),t=Object(u.b)();return r.a.createElement(ce,{history:e,getHistoricalData:function(){return t(R())}})},ie=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),l=s[0],m=s[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote("SPY").then((function(e){e.ok&&(m(!1),o(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(l)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",null,"News"),p,c===[]?"You have reached your news fetch limit, try again later.":r.a.createElement("div",null,c.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image,alt:"news"}))}))))},ue=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),l=s[0],m=s[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t="https://financialmodelingprep.com/api/v3/gainers?apikey=".concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(t).then((function(e){return e.json()})).then((function(e){m(!1),o(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(l)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},"Top Gainers"),p,c.slice(0,5).map((function(e){return r.a.createElement("div",{className:"moversContainer",key:e.ticker},r.a.createElement("div",{className:"newsTitle"},e.ticker,r.a.createElement("div",null,e.companyName)),r.a.createElement("div",{className:"newsSummary"},e.price," +",e.changes,"  ",r.a.createElement("span",{style:{color:"green"}},e.changesPercentage)))})))},se=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),l=s[0],m=s[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t="https://financialmodelingprep.com/api/v3/losers?limit=10&apikey=".concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(t).then((function(e){return e.json()})).then((function(e){m(!1),o(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(l)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"red"}},"Top Losers"),p,c.slice(0,5).map((function(e){return r.a.createElement("div",{className:"moversContainer",key:e.ticker},r.a.createElement("div",{className:"newsTitle"},e.ticker,r.a.createElement("div",null,e.companyName)),r.a.createElement("div",{className:"newsSummary"},e.price," ",e.changes,"  ",r.a.createElement("span",{style:{color:"red"}},e.changesPercentage)))})))},le=function(e){var t=e.getHistoricalData,a=e.history,c=e.positions,o=e.getPositions,u=Object(n.useState)([]),s=Object(i.a)(u,2),l=s[0],m=s[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),h=b[0],E=b[1];Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){if(a){var e=[],t=[],n=0,r=function(){var r=Object(f.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.map((function(a){t.push(n+=parseInt(a.deposit)+parseInt(a.soldPrice)*parseInt(a.shares)-parseInt(a.boughtPrice)*parseInt(a.shares)),e.push(a.createdAt)}));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();m(e),E(t),r()}}),[a]);var v=a.reduce((function(e,t){return e+parseFloat(t.deposit)}),0).toFixed(2),O=a.reduce((function(e,t){return e+t.soldPrice*t.shares-t.boughtPrice*t.shares}),parseFloat(v)).toFixed(2),j=c.reduce((function(e,t){return e+t.currentPrice*t.shares}),0).toFixed(2),y={datasets:[{data:[O-j,j],backgroundColor:[O-j>0?"green":"red","orange"],borderColor:[O-j>0?"green":"red","orange"],borderWidth:5}],labels:["Cash","Assets"]},g={labels:l,datasets:[{label:"Portfolio Value",data:h,fill:!1,backgroundColor:h[0]<h[h.length-1]?"green":"red",borderColor:h[0]<h[h.length-1]?"green":"red"}]};return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-background"},r.a.createElement("div",null,r.a.createElement("h1",{className:"bigger"},"Welcome to Algo"))),r.a.createElement("div",null,r.a.createElement(oe,null)),r.a.createElement("div",{className:"user-detail"},r.a.createElement("div",{className:"user-detail-chart"},r.a.createElement(T.Line,{data:g,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1}]}}})),r.a.createElement("div",{className:"doughnut"},r.a.createElement(T.Doughnut,{data:y,options:{responsive:!0}})),r.a.createElement("div",{className:"user-data-tables"},r.a.createElement(ae,null)),r.a.createElement("div",{className:"infoGrid__userNews"},r.a.createElement(ie,null)),r.a.createElement("div",{className:"infogrid__movers"},r.a.createElement(ue,null),r.a.createElement(se,null))))},me=function(){var e=Object(u.c)((function(e){return Object.values(e.positions)})),t=Object(u.c)((function(e){return Object.values(e.history)})),a=Object(u.b)();return r.a.createElement(le,{history:t,positions:e,getPositions:function(){return a(F())},getHistoricalData:function(){return a(R())}})},de=function(e){return{type:"SET_CURRENT_WATCHED_STOCK",current:e}},fe=function(e){var t=e.watchedStocks,a=e.getOneWatchedStock,c=e.createPosition,o=Object(n.useState)([]),u=Object(i.a)(o,2),s=u[0],m=u[1],p=Object(n.useState)(!0),b=Object(i.a)(p,2),h=b[0],E=b[1],v=Object(n.useState)([]),O=Object(i.a)(v,2),j=O[0],y=O[1],g=Object(n.useState)([]),k=Object(i.a)(g,2),S=k[0],w=k[1],N=Object(n.useState)(""),x=Object(i.a)(N,2),P=x[0],_=x[1],A=Object(n.useState)(""),F=Object(i.a)(A,2),D=F[0],L=F[1],I=Object(n.useState)(""),R=Object(i.a)(I,2),B=R[0],H=R[1],U=Object(n.useState)(""),z=Object(i.a)(U,2),M=z[0],V=z[1],$=Object(n.useState)(""),Q=Object(i.a)($,2),Y=Q[0],J=Q[1],q=Object(n.useState)(""),G=Object(i.a)(q,2),X=G[0],Z=G[1],ee=Object(n.useState)(""),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(i.a)(re,2),oe=ce[0],ie=ce[1],ue=Object(l.g)().id;if(Object(n.useEffect)((function(){a(ue)}),[ue]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/profile/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(n).then((function(e){return e.json()})).then((function(e){L(e[0].companyName),Z(e[0].description),ie(e[0].exchangeShortName),ne(e[0].image)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote(t.stockSymbol).then((function(e){e.ok&&m(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),r=[],c=[],fetch(n).then((function(e){return e.json()})).then((function(e){for(var a in _(t.stockSymbol),e)r.push(e[a].date),c.push(e[a].open);E(!1),y(r),w(c),H(parseFloat(S[0]).toFixed(2)),V(parseFloat(S[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),!t)return null;if(h)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)));var se,le={labels:j,datasets:[{label:t.stockSymbol,data:S,fill:!1,backgroundColor:S[0]>S[399]?"green":"red",borderColor:S[0]>S[399]?"green":"red",borderWidth:4}]},me=S[0]>S[399]?"background":"background2";return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-".concat(me)},r.a.createElement("div",{className:"header-element"},r.a.createElement("div",{className:"company-logo"},r.a.createElement("img",{src:ae,alt:"Company Logo"})),r.a.createElement("div",{className:"company-titles"},r.a.createElement("h1",{className:"bigger"},t.stockSymbol),r.a.createElement("h1",{className:"bigger"},D),r.a.createElement("h1",{className:"bigger"},"$",r.a.createElement(K.a,{start:0,decimals:2,end:B,duration:1,separator:","}))))),r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement(T.Line,{data:le,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Buy"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({stockSymbol:P,stockName:D,currentPrice:B,buyPrice:M,shares:Y})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:Y,onChange:(se=J,function(e){se(e.target.value)})}),isNaN(B)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!")))),r.a.createElement("div",{className:"newsFeed"},r.a.createElement("h2",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",P),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",D),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(S[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",oe),r.a.createElement("li",null,r.a.createElement("b",null,"Company Description")," ",X)),r.a.createElement("h2",null,"News"),s.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",alt:"news",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image}))}))))},pe=function(){var e=Object(u.c)((function(e){return e.positions[e.currentPosition]})),t=Object(u.b)(),a=Object(u.c)((function(e){return e.watchedStocks[e.currentWatchedStock]}));return r.a.createElement(fe,{watchedStocks:a,positions:e,getOneWatchedStock:function(e){return t(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/watchlist/").concat(e),{headers:{Authorization:"Bearer ".concat(c)}});case 3:if(!(o=t.sent).ok){t.next=9;break}return t.next=7,o.json();case 7:i=t.sent,a(de(i));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},createPosition:function(e){return t(A(e))}})},be=Object(n.createContext)(),he=function(e){var t=e.createPosition,a=e.createWatchedStock,c=Object(n.useContext)(be),o=Object(n.useState)(!0),u=Object(i.a)(o,2),s=u[0],l=u[1],m=Object(n.useState)([]),p=Object(i.a)(m,2),b=p[0],h=p[1],E=Object(n.useState)([]),v=Object(i.a)(E,2),O=v[0],j=v[1],y=Object(n.useState)(""),g=Object(i.a)(y,2),k=g[0],S=g[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),x=N[0],P=N[1],C=Object(n.useState)(""),_=Object(i.a)(C,2),A=_[0],F=_[1],D=Object(n.useState)(""),L=Object(i.a)(D,2),I=L[0],R=L[1],B=Object(n.useState)(""),K=Object(i.a)(B,2),H=K[0],U=K[1],z=Object(n.useState)(""),M=Object(i.a)(z,2),V=M[0],$=M[1];if(Object(n.useEffect)((function(){c.searchQuery&&function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t=c.searchQuery,a="https://financialmodelingprep.com/api/v3/profile/".concat(t,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(a).then((function(e){return e.json()})).then((function(e){P(e[0].companyName),S(t),$(e[0].exchangeShortName)})).catch((function(e){return S("INVALID SYMBOL")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c.searchQuery]),Object(n.useEffect)((function(){c.searchQuery&&function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t=c.searchQuery,a="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(t,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),n=[],r=[],fetch(a).then((function(e){return e.json()})).catch((function(e){return S("INVALID SYMBOL")})).then((function(e){for(var t in e)n.push(e[t].date),r.push(e[t].open);l(!1),h(n),j(r),F(parseFloat(O[0]).toFixed(2)),R(parseFloat(O[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c.searchQuery]),!c.searchQuery)return null;if(s)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(W.a,null)));var Q,Y={labels:b,datasets:[{label:c.searchQuery,data:O,fill:!1,backgroundColor:O[0]>O[399]?"green":"red",borderColor:O[0]>O[399]?"green":"red",borderWidth:4}]};return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement(T.Line,{data:Y,options:{elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}}),"INVALID SYMBOL"!==k?r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement("h4",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",k),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",x),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(O[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",V))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(k),console.log(x),console.log(A),console.log(I),console.log(H),t({stockSymbol:k,stockName:x,currentPrice:A,buyPrice:I,shares:H})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:H,onChange:(Q=U,function(e){Q(e.target.value)})}),isNaN(A)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),a({stockSymbol:k,stockName:x,currentPrice:A})}},"Add to Watchlist"))):r.a.createElement("div",{className:"centered middled"},r.a.createElement("b",null,"Invalid symbol. Try again.")))},Ee=function(){var e=Object(u.b)();return r.a.createElement(he,{createPosition:function(t){return e(A(t))},createWatchedStock:function(t){return e((a=t,function(){var e=Object(f.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),c=r.authentication.token,e.next=3,fetch("".concat(b,"/watchlist"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(a)});case 3:e.sent.ok&&t(V());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},hideForm:function(){return e({type:"HIDE_FORM"})}})},ve=function(){var e=Object(n.useContext)(be),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setSearchQuery(c)},className:"search-form"},r.a.createElement("input",{className:"search-bar",placeholder:"Search Stock Symbol",type:"text",value:c,onChange:function(e){o(e.target.value.toUpperCase())}})))},Oe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(be.Provider,{value:{searchQuery:a,setSearchQuery:c}},r.a.createElement(Ee,null),r.a.createElement(ve,null))},je=function(e){var t=e.positions,a=(e.formVisible,e.watchedStocks),c=e.updatePositionAndGet,o=Object(u.b)();Object(n.useEffect)((function(){o(F())}),[o]),Object(n.useEffect)((function(){o(V())}),[o]),Object(n.useEffect)((function(){o(R())}),[o]);var m=Object(n.useState)(0),p=Object(i.a)(m,2),b=p[0],h=p[1],E=Object(n.useState)(0),v=Object(i.a)(E,2),O=v[0],j=v[1];Object(n.useEffect)((function(){if(O!==t.length){!function e(){setTimeout((function(){e();var a=t.map((function(e){return e.stockSymbol})).join(","),n="https://financialmodelingprep.com/api/v3/profile/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b");fetch(n).then((function(e){return e.json()})).then((function(e){e.map((function(e){return c({stockSymbol:e.symbol,currentPrice:e.price})})),F()}))}),1e5)}(),j(t.length)}}),[t,O]),Object(n.useEffect)((function(){0===t.length&&0===b&&(h(1),F())}),[t.length,b,F]);var y=Object(l.g)().id,g=Number.parseInt(y);return t&&a?r.a.createElement("main",null,r.a.createElement(N,null),r.a.createElement("nav",null,r.a.createElement(l.d,null,r.a.createElement(Oe,null)),r.a.createElement("div",{className:"sidebar-label"},"Stocks"),t.map((function(e){return r.a.createElement(s.c,{key:e.id,to:"/position/".concat(e.id)},r.a.createElement("div",{className:g===e.id?"nav-entry is-selected":"nav-entry"},r.a.createElement("div",{className:"randomizer"},parseFloat(100*(e.currentPrice-e.buyPrice)/e.buyPrice).toFixed(2),"%"),r.a.createElement("div",null,r.a.createElement("div",{className:"primary-text"},e.stockName),r.a.createElement("div",{className:"secondary-text"},e.shares," share",1===e.shares?"":"s"," at $",e.currentPrice))))})),r.a.createElement("div",{className:"sidebar-label"},"Watchlist"),a.map((function(e){return r.a.createElement(s.c,{key:e.id,to:"/watchlist/".concat(e.id)},r.a.createElement("div",{className:g===e.id?"nav-entry is-selected":"nav-entry"},r.a.createElement("div",{className:"randomizer"},(3*Math.random()+1).toFixed(2)*(2*Math.round(Math.random())-1),"%"),r.a.createElement("div",null,r.a.createElement("div",{className:"primary-text"},e.stockName),r.a.createElement("div",{className:"secondary-text"},r.a.createElement("span",{onClick:Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o($(e.id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},"Delete")))))}))),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/watchlist/:id",render:function(e){return r.a.createElement(pe,e)}}),r.a.createElement(l.b,{exact:!0,path:"/position/:id",render:function(e){return r.a.createElement(z,e)}}),r.a.createElement(l.b,{exact:!0,path:"/",component:me}))):null},ye=function(){var e=Object(u.c)((function(e){return Object.values(e.positions)})),t=Object(u.c)((function(e){return Object.values(e.watchedStocks)})),a=Object(u.c)((function(e){return Object.values(e.history)})),n=Object(u.b)();return r.a.createElement(je,{positions:e,watchedStocks:t,history:a,updatePositionAndGet:function(e){n(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions/update"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)});case 3:if(!(o=t.sent).ok){t.next=8;break}return t.next=7,o.json();case 7:t.sent;case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},exitWatchedStock:function(e){return n($(e))}})},ge=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),m=l[0],p=l[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),E=h[0],v=h[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),g=y[0],k=y[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),x=N[0],P=N[1],C=Object(u.b)(),T=function(e){return function(t){e(t.target.value)}},_=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:m,cashValue:E,password:g,confirmPassword:x},e.next=4,C(O(n));case 4:return r={deposit:E},e.next=8,C(I(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"centered middled"},r.a.createElement("img",{src:S.a,alt:"img"}),r.a.createElement("form",{onSubmit:_},r.a.createElement("input",{type:"text",placeholder:"Full Name",value:a,onChange:T(c),required:!0}),r.a.createElement("input",{type:"email",placeholder:"Email",value:m,onChange:T(p),required:!0}),r.a.createElement("input",{type:"number",placeholder:"Deposit Amount",required:!0,value:E,onChange:T(v)}),r.a.createElement("input",{type:"password",placeholder:"Password",value:g,onChange:T(k)}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",value:x,onChange:T(P)}),r.a.createElement("button",{type:"submit"},"Sign Up"),r.a.createElement(s.b,{to:"/login"},r.a.createElement("button",{type:"button"},"Log in"))))},ke=function(e){return r.a.createElement("h1",null,"Page not found")},Se=function(e){var t=e.needLogin,a=e.loadToken,c=Object(n.useState)(!1),o=Object(i.a)(c,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){m(!0),a()}),[]),u?r.a.createElement(s.a,null,r.a.createElement(l.d,null,r.a.createElement(g,{path:"/login",exact:!0,needLogin:t,component:w}),r.a.createElement(g,{path:"/signup",exact:!0,needLogin:t,component:ge}),r.a.createElement(y,{path:"/",needLogin:t,component:ye}),r.a.createElement(y,{path:"/search",needLogin:t,component:Ee}),r.a.createElement(l.b,{path:"*",component:ke}),r.a.createElement(l.a,{to:"/"}))):null},we=function(){var e=Object(u.c)((function(e){return!e.authentication.token})),t=Object(u.b)();return r.a.createElement(Se,{needLogin:e,loadToken:function(){return t(function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=window.localStorage.getItem("TOKEN_KEY"))&&t(E(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})},Ne=a(48),xe=a(151),Pe=a(16);var Ce=a(20),Te=a(25),_e=a(56),Ae=a.n(_e);var Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ne.d,De=Object(Ne.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(Pe.a)(Object(Pe.a)({},e),{},{token:t.token});case"REMOVE_TOKEN":var a=Object(Pe.a)({},e);return delete a.token,a;default:return e}},positions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD":var a=t.list.map((function(e){return Object(Te.a)({},e.id,e)}));return Ae.a.apply(void 0,[{},e].concat(Object(Ce.a)(a)));case"SET_CURRENT":return Object(Pe.a)(Object(Pe.a)({},e),{},Object(Te.a)({},t.current.id,t.current));case"EXIT":var n=Object(Pe.a)({},e);return delete n[t.current.id],Object(Pe.a)({},n);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HIDE_FORM":return Object(Pe.a)(Object(Pe.a)({},e),{},{formVisible:!1});case"SHOW_FORM":return Object(Pe.a)(Object(Pe.a)({},e),{},{formVisible:!0});default:return e}},currentPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT":return t.current.id;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(Pe.a)(Object(Pe.a)({},e),{},{currentUser:t.id});default:return e}},watchedStocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD_WATCHED":var a=t.watchedList.map((function(e){return Object(Te.a)({},e.id,e)}));return Ae.a.apply(void 0,[{},e].concat(Object(Ce.a)(a)));case"EXIT_WATCHED":var n=Object(Pe.a)({},e);return delete n[t.current.id],Object(Pe.a)({},n);default:return e}},currentWatchedStock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_WATCHED_STOCK":return t.current.id;default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD_HISTORY":var a=t.historyList.map((function(e){return Object(Te.a)({},e.id,e)}));return Ae.a.apply(void 0,[{},e].concat(Object(Ce.a)(a)));default:return e}}}),Le=function(e){return Object(Ne.e)(De,e,Fe(Object(Ne.a)(xe.a)))}();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Le},r.a.createElement(we,null))),document.getElementById("root"))},83:function(e,t,a){e.exports=a.p+"static/media/leaf-clipart-12-transparent.49990580.png"}},[[166,1,2]]]);
//# sourceMappingURL=main.4bc67506.chunk.js.map